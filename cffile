#/bin/bash

# Convert a single footage file for Davinci Resolve 14 â€“ Free version
#
# Explanation: Davinci Resolve 14 Free supports only a few formats on linux. 
# The following combination seems to work well: 
#
# MPEG-4 Part2 Video Codec + PCM 16bit little endian signed in MOV container
#
# Author: thomas@macrominds.de
# 
# License: MIT
# 

USAGE="$(basename "$0") [filename] [quality]

example:
$(basename "$0") my.mov 0"

INPUT=${1?"You need to specify the input file name for the conversion as the first parameter.

USAGE:
$USAGE"}

QUALITY=${2?"You need to specify a quality as the second parameter. The lower the number, the better the quality.

USAGE: 
$USAGE"}

ffmpeg -i "$INPUT" -strict -2 -c:v libxvid -q:v $QUALITY -c:a pcm_s16le "${INPUT}_conv.mov"
